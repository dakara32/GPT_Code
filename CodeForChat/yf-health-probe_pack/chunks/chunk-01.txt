```text
# === Chat Paste Pack ===
# Repo: dakara32/GPT_Code @ main
# Files: tools/yf_health_probe.py, .github/workflows/yf-health-probe.yml
# 作成日時: 2025-09-24 15:53:36 (JST)
# 使い方: 下のチャンクを順に貼ればこのチャットで全体把握できます。
# 注記: 各ファイルは個別に L1.. で行番号付与。
---

## <tools/yf_health_probe.py> (NOT FOUND)
```text
L1
```

## <.github/workflows/yf-health-probe.yml>
```text
L1 name: yf-health-probe
L2 on:
L3   push:
L4     branches: [ main ]
L5
L6 jobs:
L7   run-probe:
L8     runs-on: ubuntu-latest
L9     timeout-minutes: 5
L10     steps:
L11       - uses: actions/checkout@v4
L12       - uses: actions/setup-python@v5
L13         with:
L14           python-version: "3.11"
L15
L16       - name: Install deps
L17         run: |
L18           python -m pip install --upgrade pip
L19           pip install yfinance pandas requests
L20
L21       - name: Check secret presence
L22         env:
L23           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
L24         run: |
L25           if [ -z "${SLACK_WEBHOOK_URL}" ]; then
L26             echo "::error ::Missing repository secret 'SLACK_WEBHOOK_URL'"
L27             exit 78
L28           else
L29             echo "SLACK_WEBHOOK_URL is set (masked)"
L30           fi
L31
L32       - name: Run probe
L33         env:
L34           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
L35           YF_PROBE_PERIOD: "180d"
L36           YF_PROBE_MIN_LEN: "120"
L37           YF_PROBE_MAX_NAN: "0.15"
L38           YF_PROBE_RETRY: "1"
L39           YF_PROBE_TIMEOUT_MS_WARN: "5000"
L40           YF_PROBE_SOFT_FAIL: "1"
L41         run: python tools/yf_health_probe.py
```

```