```text
current|candidate).*\.csv$' || true)
L18       - uses: actions/setup-python@v5
L19         with:
L20           python-version: "3.11"
L21       - name: Install deps
L22         run: |
L23           python -m pip install --upgrade pip
L24           pip install yfinance pandas numpy requests
L25       - name: Run API health probe
L26         env:
L27           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
L28           FINNHUB_API_KEY:   ${{ secrets.FINNHUB_API_KEY }}
L29           # SECメールは選定と同じ名前のシークレット（SEC_CONTACT_EMAIL）から渡す
L30           SEC_CONTACT_EMAIL: ${{ secrets.SEC_CONTACT_EMAIL }}
L31           # 判定: DOWN のときだけ失敗（DEGRADEDは成功）
L32           EXIT_ON_LEVEL:     DOWN
L33           # 任意のパラメータ（必要に応じて）
L34           YF_PERIOD:         1y
L35           YF_MIN_LEN:        "120"
L36           TIMEOUT_MS_WARN:   "5000"
L37           SOFT_FAIL:         "0"
L38         run: |
L39           python tools/api_health_probe.py
L40       - name: Mark job outcome
L41         if: always()
L42         run: echo "Done."
```

```